<!doctype html>
<html lang="en" dir="ltr" class="plugin-docs plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">Model training parameters | TDspora</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:image" content="https://raw.githubusercontent.com/tdspora/tdspora.github.io/main/img/logo-icon-open-graph.png"><meta data-rh="true" name="google-site-verification" content="Iyq685KC0PrImWLoAqY0bzK_n16RUqHIgT168UTA3lQ"><meta data-rh="true" property="og:url" content=""><meta data-rh="true" name="keywords" content="Machine Learning, ML Models, Differential Privacy, Synthetic Data, Data Privacy, test data management, test data management tools, TDspora, Data Engineering, Data subsetting, Database Integration, Data Migration, Data Relationships, Privacy Budget, Apache Spark, Oracle, PostgreSQL, AWS SageMaker, GCP Vertex AI"><meta data-rh="true" property="og:type" content="website"><meta data-rh="true" property="og:title" content="Model training parameters | TDspora"><meta data-rh="true" name="description" content="Training a synthetic data generation model (or set of related models) requires several parameters to be provided:"><meta data-rh="true" property="og:description" content="Training a synthetic data generation model (or set of related models) requires several parameters to be provided:"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="alternate" href="https://tdspora.github.io/docs/config/models/model-training-parameters" hreflang="en"><link data-rh="true" rel="alternate" href="https://tdspora.github.io/docs/config/models/model-training-parameters" hreflang="x-default"><link data-rh="true" rel="canonical" href=""><!-- Google Tag Manager -->
    <script>!function(e,t,a,n,g){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var m=t.getElementsByTagName(a)[0],r=t.createElement(a);r.async=!0,r.src="https://www.googletagmanager.com/gtm.js?id=GTM-PZ5SQR4",m.parentNode.insertBefore(r,m)}(window,document,"script","dataLayer")</script>
    <!-- End Google Tag Manager -->


<script src="https://tdspora.ai/scripts/scriptAtlassian1.js" defer="defer" data-key="a2de66ac-0fd7-4bd8-85c9-f3760fccc23e" data-jsd-embedded="" data-base-url="https://jsd-widget.atlassian.com"></script>
<script src="https://cookie-cdn.cookiepro.com/consent/9328ef5a-5e60-4408-834c-12a014609889/OtAutoBlock.js" defer="defer"></script>
<script src="https://cookie-cdn.cookiepro.com/scripttemplates/otSDKStub.js" defer="defer" charset="UTF-8" data-domain-script="9328ef5a-5e60-4408-834c-12a014609889"></script>
<script src="data:text/javascript;base64,ZnVuY3Rpb24gT3B0YW5vbldyYXBwZXIoKSB7IH0" defer="defer"></script><link rel="stylesheet" href="/assets/css/styles.a079ef48.css">
<link rel="preload" href="/assets/js/runtime~main.fdc47ebd.js" as="script">
<link rel="preload" href="/assets/js/main.e4b7ab08.js" as="script">
</head>
<body class="navigation-with-keyboard" data-theme="light">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="theme.common.skipToMainContent"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><header class="fixed top-0 inset-x-0 z-50 h-nav header_DiDm"><div class="absolute top-0 left-0 z-40 w-full shadow-navBar"><nav class="flex items-center justify-between h-nav navigationContainer"><a href="/"><img src="/img/logo.svg" alt="logo"></a><div class="lg:flex items-center"><ul class="invisible lg:visible fixed lg:static flex flex-row gap-6 items-center"><li><span><a style="text-decoration:none" class="flex items-center h-22 text-16 text-monochrome-default tab_hkiA" href="/features">Features</a></span></li><li><span><a style="text-decoration:none" class="flex items-center h-22 text-16 text-monochrome-default tab_hkiA" href="/plans">Plans</a></span></li><li><span><a style="text-decoration:none" class="flex items-center h-22 text-16 text-monochrome-default activeTab_WWS9" href="/docs/introduction">Docs</a></span></li><li><span><a style="text-decoration:none" class="flex items-center h-22 text-16 text-monochrome-default tab_hkiA" href="/contact">Contact us</a></span></li><li><a href="https://github.com/tdspora/syngen" target="_blank" rel="noopener noreferrer" class="githubLink_dud9"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" role="img"><path clip-rule="evenodd" d="M11.999 0C5.373 0 0 5.509 0 12.304 0 17.74 3.438 22.351 8.207 23.98c.6.113.819-.267.819-.594 0-.292-.01-1.066-.017-2.092-3.337.743-4.042-1.65-4.042-1.65-.545-1.421-1.332-1.8-1.332-1.8-1.09-.762.082-.747.082-.747 1.205.087 1.838 1.268 1.838 1.268 1.07 1.88 2.81 1.337 3.493 1.022.109-.795.419-1.337.762-1.644-2.665-.312-5.467-1.367-5.467-6.081 0-1.344.468-2.442 1.236-3.302-.124-.311-.536-1.562.118-3.256 0 0 1.007-.33 3.3 1.26A11.258 11.258 0 0 1 12 5.95a11.27 11.27 0 0 1 3.005.414c2.29-1.592 3.296-1.261 3.296-1.261.655 1.694.243 2.945.12 3.256.77.86 1.233 1.958 1.233 3.302 0 4.726-2.806 5.766-5.478 6.07.43.38.814 1.131.814 2.28 0 1.644-.015 2.97-.015 3.374 0 .33.217.712.825.592 4.765-1.63 8.2-6.238 8.2-11.673C24 5.51 18.627 0 11.999 0z"></path></svg><div class="githubStarsCount_ehdJ"><span class="text-monochrome-text font-regular">+<!-- -->0</span></div></a></li><li><div><a style="text-decoration:none" class="button-primary ml-5 px-8" href="/contact">Request demo</a></div></li></ul><button aria-label="menu button" class="flex items-center justify-center w-9 h-9 lg:hidden text-monochrome-black fill-current bg-menu bg-no-repeat" type="button"></button></div></nav></div></header><div class="main-wrapper mainWrapper_z2l0"><div class="docPageContainer_vFwC"><div class="background_rNR4"></div><div class="flex flex-col lg:pt-6 lg:pl-6 lg:border-r border-none" role="complementary"><button aria-label="Open Menu" aria-haspopup="true" class="button--documentation-menu-open" type="button"><span style="background-image:url(/img/documentation-menu.svg);min-width:24px;min-height:24px;display:inline-block"></span><div>Documentation menu</div></button><div class="search-bar-icon"><div class="dsla-search-wrapper"><div class="dsla-search-field" data-tags="default,docs-default-current"></div></div><div id="searchLoupe"></div></div><div class="menu px-6 lg:px-0"></div></div><main class="grid grid-cols-12 gap-x-5 mb-22"><article class="col-span-12 lg:col-start-2 lg:col-span-8 mt-30 lg:mt-1" style="max-width:100%"><header><h1 class="mt-8 mb-4 text-44 font-ubuntu leading-48 text-monochrome-text">Model training parameters</h1></header><div class="markdown"><p>Training a synthetic data generation model (or set of related models) requires several parameters to be provided:</p><ul><li><p>The <strong>Max epochs</strong> parameter regulates the maximum number of iterations that the training process will try to improve the accuracy of the generation model. If it detects that the model reached its top accuracy it will stop earlier. Each iteration consumes computing power and time to complete. Recommended values for this parameter are:</p><ul><li>Test data for the application testing purposes: <strong>10-20</strong></li><li>Test data for the analytical purposes: <strong>20-50</strong></li><li>Synthetic data for training other ML models: <strong>50-100</strong></li></ul></li><li><p>The <strong>Null values</strong> parameter defines the action the training process will apply to the rows with the NULL values. There are two options available:</p><ul><li>Replace NULL values with the column average value that might affect the accuracy of the generation</li><li>Drop the entire row, if at least one of the columns has the NULL value</li></ul></li></ul><p>It is recommended to use the replace action for the application testing, and the drop option for the analytical or data science needs.</p><ul><li>The <a href="#dp">Differential privacy</a> option allows you to activate a special process during the synthetic data generation model training that mathematically guarantees the risk of disclosure of personal/sensitive data to be less or equal to a value known as privacy budget (ε). The lower the epsilon (ε) is the more privacy is added, but the lower accuracy is. The privacy budget determines how one&#x27;s personal data present in the database influences the generated table or a risk for a person to reveal her personal data. It is recommended to use values 0-3 – for high, 3-15 – for medium, and 15+ – for low privacy.</li></ul><a name="dp"></a><h2 class="anchor anchorWithStickyNavbar_LWe7" id="differential-privacy">Differential privacy<a class="hash-link" href="#differential-privacy" title="Direct link to heading">​</a></h2><p>Differential privacy (DP) is a mechanism to ensure mathematically guaranteed privacy of data. That means that an intruder cannot identify whether a certain piece of information was presented in a trained data using limited queries to the generated data. Therefore, with differential privacy applied to sensitive data, the goal is to give each individual roughly the same privacy that would result from having their data removed.  </p><p>From the technical point of view, DP is implemented by adding a Laplace noise to the stochastic gradient descent algorithm results. This allows the neural network to learn more global patterns, that are not affected much by individual records. Thus, Information about individuals is removed from the model, leading to satisfactory results in terms of DP.</p><p>Unfortunately, such manipulations with optimization algorithms lead to some drawbacks, the most significant of which include:</p><ul><li>Accuracy degradation</li><li>Training time increasing</li></ul><p>Since the DP mechanism is disrupting in its nature, the learning step should be kept small to ensure convergence. What is more, according to Frisk et al <a href="https://arxiv.org/pdf/2103.10498.pdf" target="_blank" rel="noopener noreferrer">[<!-- -->1<!-- -->]</a>, &quot;to obtain the best possible epsilon, gradients need to be perturbed on a single sample basis, i.e. training the deep neural network with a batch size of 1. This dramatically increases the training time by orders of magnitude, from minutes or seconds to train a non-private model with a larger batch size to hours and days for a private variant of the same model. It also eliminates the use of GPUs in training, since they offer no direct benefit over CPUs when training with such a small batch size&quot;.</p><p>We use the default implementation of DP optimizers from TensorFlow. The tunable hyperparameters of a DP optimizer include:</p><ul><li><p>Number of micro-batches</p><ul><li>The number of partitions, that divide the minibatch used for training. Gradients are averaged over a micro-batch. This is what <a href="https://arxiv.org/pdf/2103.10498.pdf" target="_blank" rel="noopener noreferrer">[<!-- -->1<!-- -->]</a> is talking about.</li></ul></li><li><p>Clipping (L2-norm)</p><ul><li>To ensure DP the sensitivity of each gradient needs to be bounded. In other words, we need to limit how much each individual training point sampled in a minibatch can influence gradient computations, and the resulting updates applied to model parameters. This can be done by clipping each gradient computed on each training point. The clipping is represented as a share ranging from 0 to 1 and reflects a multiplier for every single gradient. </li></ul></li><li><p>Noise multiplier</p><ul><li>Noise multiplier controls the amount of noise added.</li></ul></li><li><p>Learning rate</p><ul><li>Learning rate is inherited from the model and has the same meaning as for a traditional optimizer. Should be kept low for convergence.</li></ul></li></ul><p>Some dependencies between the hyperparameter&#x27;s accuracy and learning rate are obtained and shown lower.</p><p><img loading="lazy" alt="Microbatches" src="/assets/images/dp-microbatches-8924e4f85b0867fd7e1b34fca61a8390.png" width="817" height="515" class="img_ev3q"></p><p>The accuracy for 8 micro-batches surprisingly was 0.83 so considered an outlier and not shown in the figure. The dependency for accuracy is fitted with log trend, dependency for training rate - with a linear trend.</p><p>[<!-- -->1<!-- -->]<!-- --> - <a href="https://arxiv.org/pdf/2103.10498.pdf" target="_blank" rel="noopener noreferrer">Frisk et al., Super-convergence and Differential Privacy: Training faster with better privacy guarantees. 2021</a></p></div></article></main></div></div><footer class="bg-monochrome-Gray100 border-monochrome-medium-tint"><div class="fotterContainer_aN_H"><section class="mainSection_V0Hi"><a href="/"><img src="/img/logo-fotter.svg" class="logoFotter_AVem" alt="TDSpora"><img src="/img/tdspora-icon-fotter.svg" class="tdsporaIconFotter_u7ul" alt="TDSpora"></a><div class="linksContainer_itM2"><div class="columnContainer_Zf8D"><div class="title_gHmw">Product</div><ul><li class="link_G08R"><span><a href="/features">Features</a></span></li><li class="link_G08R"><span><a href="/plans">Plans</a></span></li></ul></div><div class="columnContainer_Zf8D"><div class="title_gHmw">Support</div><ul><li class="link_G08R"><span><a href="/docs/introduction">Docs</a></span></li><li class="link_G08R"><span><a href="/contact">Contact us</a></span></li><li class="link_G08R"><span><a href="/docs/faq/faq-data-generation">FAQ</a></span></li></ul></div><div class="columnContainer_Zf8D"><div class="title_gHmw">Legal</div><ul><li class="link_G08R"><span><a href="/docs/legal/EULA">License Agreement</a></span></li><li class="link_G08R"><span><a href="https://www.epam.com/privacy-policy" target="_blank" rel="noopener noreferrer">Privacy Policy</a></span></li></ul></div></div></section><section class="flex flex-row gap-y-4 py-5 border-t border-monochrome-medium-tint flex-row justify-between"><span class="flex flex-row gap-y-2 items-center gap-x-2 text-16 leading-24 text-monochrome-text">Sponsored by<a href="https://solutionshub.epam.com/solution/tdspora" target="_blank" rel="noopener noreferrer"><img src="/img/epam-logo.svg" alt="epam systems logo"></a></span><a href="https://github.com/tdspora/tdspora.github.io" target="_blank" rel="noopener noreferrer" class="githubLink_rgoe"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" role="img"><path clip-rule="evenodd" d="M11.999 0C5.373 0 0 5.509 0 12.304 0 17.74 3.438 22.351 8.207 23.98c.6.113.819-.267.819-.594 0-.292-.01-1.066-.017-2.092-3.337.743-4.042-1.65-4.042-1.65-.545-1.421-1.332-1.8-1.332-1.8-1.09-.762.082-.747.082-.747 1.205.087 1.838 1.268 1.838 1.268 1.07 1.88 2.81 1.337 3.493 1.022.109-.795.419-1.337.762-1.644-2.665-.312-5.467-1.367-5.467-6.081 0-1.344.468-2.442 1.236-3.302-.124-.311-.536-1.562.118-3.256 0 0 1.007-.33 3.3 1.26A11.258 11.258 0 0 1 12 5.95a11.27 11.27 0 0 1 3.005.414c2.29-1.592 3.296-1.261 3.296-1.261.655 1.694.243 2.945.12 3.256.77.86 1.233 1.958 1.233 3.302 0 4.726-2.806 5.766-5.478 6.07.43.38.814 1.131.814 2.28 0 1.644-.015 2.97-.015 3.374 0 .33.217.712.825.592 4.765-1.63 8.2-6.238 8.2-11.673C24 5.51 18.627 0 11.999 0z"></path></svg></a></section></div></footer></div>
<script src="/assets/js/runtime~main.fdc47ebd.js"></script>
<script src="/assets/js/main.e4b7ab08.js"></script>
<!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PZ5SQR4" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) --></body>
</html>